{
    "id": "DE20f0a9cee7204874ba77e3e89ce4d021",
    "type": "data_elements",
    "attributes": {
        "created_at": "2023-11-24T15:58:39.269Z",
        "deleted_at": null,
        "dirty": false,
        "enabled": true,
        "name": "[TMS] CM360 Enchanced Conversion Data",
        "published": true,
        "published_at": null,
        "revision_number": 0,
        "updated_at": "2023-12-12T16:57:00.427Z",
        "created_by_email": "gustavo.rodriguez@sephora.com",
        "created_by_display_name": "Gustavo Rodriguez",
        "updated_by_email": "gustavo.rodriguez@sephora.com",
        "updated_by_display_name": "Gustavo Rodriguez",
        "clean_text": false,
        "default_value": null,
        "delegate_descriptor_id": "core::dataElements::custom-code",
        "force_lower_case": false,
        "review_status": "unsubmitted",
        "storage_duration": null,
        "settings": "{\"source\":\"// Pulls the user information\\nvar userInfo = Sephora.Util.getUserInfoCache();\\n\\n// Pulls the personal information\\nvar email = userInfo.profile.login || '';\\nvar phoneNumber = userInfo.profile.phoneNumber || '';\\nvar firstName = userInfo.profile.firstName || '';\\nvar lastName = userInfo.profile.lastName || '';\\nvar postalCode = userInfo.profile.preferredZipCode || '';\\nvar country = userInfo.profile.profileLocale || '';\\n\\n// Prepares the Enhanced Conversion Information\\nvar dataToReturn = {\\n  'user_data': {\\n    'email': email,\\n    'phone_number': phoneNumber,\\n    'address': {\\n      'first_name': firstName,\\n      'last_name': lastName,\\n      'street': '',\\n      'city': '',\\n      'region': '',\\n      'postal_code': postalCode,\\n      'country': country\\n    }\\n  }\\n}\\n\\n// Hash the data\\nreturn new Promise(resolve =\\u003e {\\n  Sephora.analytics.utils.hashString(email).then(hashedEmail =\\u003e {\\n    dataToReturn.user_data.email = hashedEmail;\\n    Sephora.analytics.utils.hashString(phoneNumber).then(hashedPhone =\\u003e {\\n      dataToReturn.user_data.phone_number = hashedPhone;\\n      Sephora.analytics.utils.hashString(firstName).then(hashedName =\\u003e {\\n        dataToReturn.user_data.address.first_name = hashedName;\\n        Sephora.analytics.utils.hashString(lastName).then(hashedLastName =\\u003e {\\n          dataToReturn.user_data.address.last_name = hashedLastName;\\n\\n          resolve(dataToReturn);\\n        });\\n      });\\n    });\\n  });\\n});\"}"
    },
    "relationships": {
        "libraries": {
            "links": {
                "related": "https://reactor.adobe.io/data_elements/DE20f0a9cee7204874ba77e3e89ce4d021/libraries"
            }
        },
        "revisions": {
            "links": {
                "related": "https://reactor.adobe.io/data_elements/DE20f0a9cee7204874ba77e3e89ce4d021/revisions"
            }
        },
        "notes": {
            "links": {
                "related": "https://reactor.adobe.io/data_elements/DE20f0a9cee7204874ba77e3e89ce4d021/notes"
            }
        },
        "property": {
            "links": {
                "related": "https://reactor.adobe.io/data_elements/DE20f0a9cee7204874ba77e3e89ce4d021/property"
            },
            "data": {
                "id": "PR28bc45fcba184e70b64b2f0cf7fe70f8",
                "type": "properties"
            }
        },
        "origin": {
            "links": {
                "related": "https://reactor.adobe.io/data_elements/DE20f0a9cee7204874ba77e3e89ce4d021/origin"
            },
            "data": {
                "id": "DE20f0a9cee7204874ba77e3e89ce4d021",
                "type": "data_elements"
            }
        },
        "extension": {
            "links": {
                "related": "https://reactor.adobe.io/data_elements/DE20f0a9cee7204874ba77e3e89ce4d021/extension"
            },
            "data": {
                "id": "EX881e591abc3d4b29b9681e2a4d337f74",
                "type": "extensions"
            }
        },
        "updated_with_extension_package": {
            "links": {
                "related": "https://reactor.adobe.io/data_elements/DE20f0a9cee7204874ba77e3e89ce4d021/updated_with_extension_package"
            },
            "data": {
                "id": "EP1fdd2a6ec2ae468fb1d2cac08df65f83",
                "type": "extension_packages"
            }
        },
        "updated_with_extension": {
            "links": {
                "related": "https://reactor.adobe.io/data_elements/DE20f0a9cee7204874ba77e3e89ce4d021/updated_with_extension"
            },
            "data": {
                "id": "EX35ce3802460d499b9f4c856d69a764b4",
                "type": "extensions"
            }
        }
    },
    "links": {
        "property": "https://reactor.adobe.io/properties/PR28bc45fcba184e70b64b2f0cf7fe70f8",
        "origin": "https://reactor.adobe.io/data_elements/DE20f0a9cee7204874ba77e3e89ce4d021",
        "self": "https://reactor.adobe.io/data_elements/DE20f0a9cee7204874ba77e3e89ce4d021",
        "extension": "https://reactor.adobe.io/extensions/EX881e591abc3d4b29b9681e2a4d337f74"
    },
    "meta": {
        "latest_revision_number": 3
    }
}
